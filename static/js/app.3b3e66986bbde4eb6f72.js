webpackJsonp([0],{0:function(t,a){},C0Qh:function(t,a){},DO9x:function(t,a){},DXeV:function(t,a,i){t.exports=i.p+"static/img/play.4e1df3e.png"},NHnr:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=i("7+uW"),e={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"box"},[i("span",[t._v("Sing")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search",attrs:{type:"search",placeholder:"请输入歌手名称"},domProps:{value:t.search},on:{keyup:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13,a.key))return null;t.searchSong(a)},input:function(a){a.target.composing||(t.search=a.target.value)}}})])},staticRenderFns:[]};var n=i("VU/8")({name:"Header",data:function(){return{search:null}},methods:{searchSong:function(){""!=this.search&&null!=this.search&&this.$emit("searchsong",this.search)}}},e,!1,function(t){i("DO9x")},"data-v-0499c864",null).exports,o={name:"audiotem",props:{playurl:String,isplay:null},data:function(){return{time:null}},watch:{isplay:function(t){t?(4==this.$refs.audio.readyState?this.$refs.audio.play():this.$refs.audio.autoplay=!0,this.returnPlayTime()):(this.$refs.audio.pause(),this.stopPlayTime())}},methods:{returnPlayTime:function(){var t=this;t.time=setInterval(function(){var a=Math.ceil(t.$refs.audio.currentTime/t.$refs.audio.duration*100)+"%";t.$emit("playtime",a)},100)},stopPlayTime:function(){clearInterval(this.time)}}},r={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"box"},[a("audio",{ref:"audio",attrs:{controls:"",loop:"",src:this.playurl}})])},staticRenderFns:[]};var l={name:"App",data:function(){return{audio:"audiooo",listData:[],isPlay:!1,isThis:!1,songUrl:null,playUrl:null,playTime:"0%",search:"薛之谦",pageNum:1,hasNext:!1}},components:{headerBox:n,audioTem:i("VU/8")(o,r,!1,function(t){i("fRx0")},"data-v-78a99c4e",null).exports},watch:{},mounted:function(){this.getData()},methods:{getData:function(){var t=this,a="http://39.106.196.110:8080/"+encodeURI(this.search)+"/"+this.pageNum;this.$http.get(a).then(function(a){t.listData=t.listData.concat(a.body.data),t.hasNext=a.body.hasNext,console.log(a)})},loadSongUrl:function(t){this.songUrl=t,this.playUrl?this.playUrl==this.songUrl&&this.isPlay?this.isThis=!0:this.isThis=!1:this.playUrl=t},playSong:function(){var t=this;this.playUrl!=this.songUrl&&(this.playUrl=this.songUrl,this.isPlay=!1),setTimeout(function(){t.isPlay=!t.isPlay},100),this.isThis=!0,this.playTime="0%"},playTimeFun:function(t){this.playTime=t},searchSong:function(t){this.search=t,this.listData=[],this.getData()},loadMore:function(){this.pageNum+=1,this.getData()}}},c={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{attrs:{id:"app"}},[i("header-box",{on:{searchsong:t.searchSong}}),t._v(" "),i("router-view",{attrs:{playtime:t.playTime,isthis:t.isThis,listdata:t.listData},on:{loadurl:t.loadSongUrl,playbtn:t.playSong}}),t._v(" "),t.hasNext?i("p",{staticClass:"load",on:{click:t.loadMore}},[t._v("加载更多")]):t._e(),t._v(" "),i("audio-tem",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{playurl:t.playUrl,isplay:t.isPlay},on:{playtime:t.playTimeFun}})],1)},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(t){i("O+/k")},null,null).exports,h=i("/ocq"),p={name:"Index",props:{listdata:Array},data:function(){return{}}},d={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",t._l(t.listdata,function(a,s){return i("div",{staticClass:"list"},[i("router-link",{attrs:{to:{name:"play",params:{data:s}}}},[i("div",{staticClass:"left-img"},[i("img",{attrs:{src:a.coverUrl,alt:""}})]),t._v(" "),i("div",{staticClass:"right-text"},[i("p",{staticClass:"title"},[t._v(t._s(a.title))]),t._v(" "),i("p",{staticClass:"text"},[t._v(t._s(a.description))])])])],1)}))},staticRenderFns:[]};var m=i("VU/8")(p,d,!1,function(t){i("C0Qh")},"data-v-00cfe1a4",null).exports,y={name:"play",props:{listdata:Array,isthis:null,playtime:String},data:function(){return{song:null,audio:null,isPlay:!1,opacity:1,rotate:"rotate(0deg)",imgRotate:null,rotateNum:0}},computed:{texts:function(){return this.song.description.replace(/\n/g,"<br/>")}},watch:{isthis:function(t){t?(this.isPlay=!0,this.opacity=0,this.imgRotateStart()):(this.isPlay=!1,this.opacity=1,this.imgRotateStop())}},mounted:function(){this.song=this.listdata[this.$route.params.data],this.$emit("loadurl",this.song.fileOptions[1].url),this.isthis&&(this.isPlay=!0,this.opacity=0,this.imgRotateStart())},methods:{playSong:function(){this.isPlay=!this.isPlay,this.$emit("playbtn"),this.isPlay?(this.playBtnHide(),this.imgRotateStart()):(this.playBtnShow(),this.imgRotateStop())},playBtnHide:function(){var t=this,a=setInterval(function(){t.opacity-=.1,t.opacity<=0&&clearInterval(a)},20)},playBtnShow:function(){var t=this,a=setInterval(function(){t.opacity+=.1,t.opacity>=1&&clearInterval(a)},20)},imgRotateStart:function(){var t=this;this.imgRotate||(this.imgRotate=setInterval(function(){t.rotateNum+=.1,t.rotate="rotate("+t.rotateNum+"deg)"},10))},imgRotateStop:function(){clearInterval(this.imgRotate),this.imgRotate=null}}},v={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return t.song?s("div",{staticClass:"box"},[s("div",{staticClass:"song-title"},[t._v(t._s(t.song.title))]),t._v(" "),s("div",{staticClass:"center",on:{click:t.playSong}},[s("div",{staticClass:"bor837F7D"},[s("img",{staticClass:"cover",style:{transform:t.rotate},attrs:{src:t.song.coverUrl,alt:""}}),t._v(" "),s("img",{staticClass:"play",style:{opacity:t.opacity},attrs:{src:i("DXeV"),alt:""}})])]),t._v(" "),s("div",{staticClass:"range"},[t.isthis?s("div",{staticClass:"had-line",style:{width:t.playtime}}):t._e()]),t._v(" "),s("div",{staticClass:"text"},[s("p",{domProps:{innerHTML:t._s(t.texts)}})])]):t._e()},staticRenderFns:[]};var f=i("VU/8")(y,v,!1,function(t){i("WyhL")},"data-v-372a7834",null).exports;s.a.use(h.a);var g=new h.a({routes:[{path:"/",name:"index",component:m,meta:{title:"index",keepAlive:!0}},{path:"/play",name:"play",component:f}],scrollBehavior:function(t,a,i){return i||(a.meta.keepAlive&&(a.meta.savedPosition=window.scrollTop?window.scrollTop:window.scrollY),{x:0,y:0})}}),_=i("8+8L"),x=i("7QTg"),S=i.n(x);i("Qbok");s.a.use(_.a),s.a.use(S.a),s.a.config.productionTip=!1,new s.a({el:"#app",router:g,components:{App:u},template:"<App/>"})},"O+/k":function(t,a){},Qbok:function(t,a){},WyhL:function(t,a){},fRx0:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.3b3e66986bbde4eb6f72.js.map